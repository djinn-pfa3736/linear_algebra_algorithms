import numpy as np
import matplotlib.pyplot as plt

import pdb

x = np.array([[0.0],[0.0],[0.0],[0.0],[0.0],[0.0],[0.0],[0.0]])
A = np.array([[100006.000, 100009.000, 100002.000, 100005.000, 100004.000, 100002.000, 100001.000, 100005.000],
              [100001.000,100001.000,100000.000,100003.000,100000.000,100002.000,100002.000,100009.000],
              [100007.000,100003.000,100001.000,100009.000,100003.000,100008.000,100000.000,100005.000],
              [100005.000,100007.000,100009.000,100004.000,100005.000,100008.000,100000.000,100005.000],
              [100003.000,100004.000,100000.000,100009.000,100000.000,100005.000,100002.000,100007.000],
              [100004.000,100002.000,100002.000,100006.000,100009.000,100003.000,100004.000,100006.000],
              [100008.000,100001.000,100008.000,100006.000,100009.000,100002.000,100007.000,100004.000],
              [100009.000,100005.000,100000.000,100006.000,100009.000,100001.000,100005.000,100008.000]])
b = np.array([[800034.000], [800018.000], [800036.000], [800043.000], [800030.000], [800036.000], [800045.000],[800043.000]])
pdb.set_trace()

xOld = np.empty_like(b)

D = np.diag(np.diag(A))
L = np.tril(A, -1.0)
U = A - L - D

error_list = []

w = 0.000001
T = np.linalg.inv(D+w*L)
Lw = np.dot(T, -w*U+(1-w)*D)
c = np.dot(T, w*b)
for _ in range(1000000):
    x = np.dot(Lw, xOld) + c
    xOld = x
    error_list.append(np.sum(abs(1 - x)))
plt.plot(error_list)
plt.show()
pdb.set_trace()
